{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Super COMO Super COMO is a high-end 1/10-scale autonomous RC car initiative at the University of Texas at Dallas. This assembly guide is based on the initial car build which was prepared in partial fulfillment of the EE/CE/TE Senior Design project for Fall 2018-Spring 2019.","title":"Home"},{"location":"#super-como","text":"Super COMO is a high-end 1/10-scale autonomous RC car initiative at the University of Texas at Dallas. This assembly guide is based on the initial car build which was prepared in partial fulfillment of the EE/CE/TE Senior Design project for Fall 2018-Spring 2019.","title":"Super COMO"},{"location":"arduinosetup/","text":"Install arduino using apt-get (v1.0.5) and then purge it Doing so installs the missing libraries that are required for v1.8.7 sudo apt-get install arduino sudo apt-get purge arduino Go to Downloads directory and download Arduino 1.8.7 from teensyduino website cd ~/Downloads wget https://www.pjrc.com/teensy/td_144/arduino-1.8.7-linuxaarch64.tar.xz tar -xf arduino-1.8.7-linuxaarch64.tar.xz cd arduino-1.8.7/ ./install.sh Now arduino IDE will be a shortcut on desktop","title":"Arduino for Teensy"},{"location":"arduinosetup/#install-arduino-using-apt-get-v105-and-then-purge-it","text":"","title":"Install arduino using apt-get (v1.0.5) and then purge it"},{"location":"arduinosetup/#doing-so-installs-the-missing-libraries-that-are-required-for-v187","text":"sudo apt-get install arduino sudo apt-get purge arduino","title":"Doing so installs the missing libraries that are required for v1.8.7"},{"location":"arduinosetup/#go-to-downloads-directory-and-download-arduino-187-from-teensyduino-website","text":"cd ~/Downloads wget https://www.pjrc.com/teensy/td_144/arduino-1.8.7-linuxaarch64.tar.xz tar -xf arduino-1.8.7-linuxaarch64.tar.xz cd arduino-1.8.7/ ./install.sh Now arduino IDE will be a shortcut on desktop","title":"Go to Downloads directory and download Arduino 1.8.7 from teensyduino website"},{"location":"assembly/","text":"Assembly Guide Parts List Below is a list of parts required for this build: Chassis and accessories: 1x Traxxas Slash 4x4 Platinum (other cars with similar size might work) 1x RACECAR/J Spring upgrade set 1x Tall battery hold-down and retainer set Decks, mounts, and 3D Printed Parts: 1x Hammerhead decks set 1x Deck 1 / Bottom deck 1x Deck 2 / Top deck 1x Deck 3 / LIDAR deck 1x Teensy PCB / Protoboard 2x Encoder disks (black or white) (optional) 2x Encoder mounts (optional) 8x Ultrasonic mounts 1x 1/4\" Camera head e.g.: Z-type mount, ball head, ...etc. 4x ELP camera mounts (optional): seat mount : for front ELP camera pole mount : consists of the base and holder. Use for rear ELP camera side cameras: either pole or seat mounts (we will assume pole mounts, but either will work) Sensors: 1x Hokuyo UST-10LX laser range finder 1x Stereolabs ZED camera 4x ELP 1080p camera (optional) 2x Sparkfun Digital breakout light encoder (optional) 8x HC-SR04 ultrasonic sensor 1x Razor 9DoF IMU Computers and Microcontrollers 1x Teensy 3.5 (3.6 will not work) 1x Jetson TX2 with the TX2 development board 1x VESC 11.0 electronic speed controller Other Electronics 1x 7-Port USB hub (powered) 1x Samsung 500GB 860 EVO SATA III 2.5\" SSD 1x Startech 4 port PCI Express USB 3.0 card (independent 5Gbps channels) (optional) Power Sources 1x Traxxas 8,400mAh 11.1V 3-Cell LiPo battery 1x XTPower XT-20000QC2 powerbank Bolts, Nuts, Spacers, and Standoffs (material is metal when not noted) Bolts 1x 0.25\"-20x0.5\" bolt 16x M0x0.25\u201d bolts 16x M2x10mm bolts 6x M2.5x8mm bolts 9x M2.5x10mm bolts 4x M3x6mm plastic bolts 6x M3x8mm bolts 6x M3x10mm bolts 20x M3x12mm bolts 4x M3x20mm bolts Nuts 16x M0 nuts 16x M2 nuts 6x M2.5 nuts 20x M3 nuts 2x M3 plastic nut Spacers 2x M3x10mm plastic spacers 2x M3x10mm spacers Standoffs 6x M3x10mm standoffs 2x M3x20mm standoffs 5x M3x100mm standoffs 4x Vibration damper standoffs Header Pins and Cables 2x 24-pin male headers 2x 24-pin female headers 8x 4-pin male headers 2x 3-pin male headers 8x 12\" 4-wire female-to-female connectors 2x 300mm 3-wire male-to-female servo connectors 1x SATA with power extension cable 1x PCIe X4 extension cord (optional) Barrel plugs: 1x 1-Female-3-Male barrel plug splitter (2.5mm ID, 5.5mm OD) 1x Female barrel plug to exposed wire (2.5mm ID, 5.5mm OD) 1x Male barrel plug to exposed wire (2.5mm ID, 5.5mm OD) 2x 12\" USB cable: Male A to Male micro B Misc Liquid white-out or black permanent marker (opposite color to encoder disks) Velcro/ 3M Dual Lock (either preferred) or double sided tape Heat shrink heat gun Thermal paste (optional) Hot glue hot glue gun (optional) Solder and soldering iron Digital Multimeter (optional but recommended for continuity testing) Tools: Traxxas tools (Allen and lug wrenches) PH00, PH0, and PH1 screw drivers 1x Controller e.g.: Logitech Wireless Gamepad F710, Logitech F310 Gamepad (wired, but preferred), XBOX 360 controller You can also find the detailed Bill of Materials on our GitHub page. Assembly Steps Follow steps below to assemble the car. While matching the holes on the decks to the proper component is relatively easy considering that most parts only fit in one logical configuration, the mapping between deck holes to the proper components are indicated in the figures below. Keep them in mind while assembling the car. Deck 1 Red rectangles (holes at corners): Ultrasonic sensor mounting hole Green rectangle (holes at corners): SSD mounting holes Purple rectangle (holes at corners and along the edge): Jetson mounting holes Yellow rectangle (holes at corners): IMU mounting holes Red circles: Deck 3 mounting holes Yellow circles: Deck 2 mounting holes Green circles: Deck 1 mounting holes (onto the chassis) Deck 2 Dotted red rectangle: Position of battery pack on top side (mounted with tape/Velcro) Dotted purple rectangle: Position of USB hub on bottom side (mounted with tape/Velcro) Green rectangle: ZED camera mounting holes (choose one) Yellow rectangle (holes at corners): ELP mounts Yellow circles: Deck 2 mounting holes (onto deck 1) Deck 3 Red circles: Deck 3 mounting holes (onto deck 1) Green circles: Hokuyo lidar mounting holes Dotted green circles: RPLidar A2/A3 mounting holes (to, optionally, replace the Hokuyo Lidar) Note: Whenever soldering wires use heat shrink appropriately. Program the VESC Follow these steps to program the VESC. Prepare the Lidar Connector Add a barrel plug to power the Lidar by following these steps: - Cut the blue and brown cables of the power source and I/O cable and strip them. - On the female-to-exposed wire and male-to-exposed wire connectors distinguish between the wires connected to the inner (negative) and outer (positive) leads of the connector and cut them to about 8\" and 12\" in length respectively. - Solder the following wires together: - Brown (positive) Lidar wire to the inner (positive) wires of both cables. - Blue (negative) Lidar wire to the outer (negative) wires of both cables. - Apply heat shrink appropriately. Prepare the Chassis Remove the plastic shell by removing the four cotter pins. Remove the front and rear shell mounts by unscrewing the two bolts that mount each to a suspension mount. Replace the hold-down retainers. On the bottom side of the chassis there are four bolts that secure the battery hold-down retainers. Remove the bolts and replace each retainer piece with the equivalent piece from the taller set. Insert the Traxxas battery into its slot and secure with the battery hold-down bar. Remove the ESC by unfastening the screws that hold it down. If your VESC does not come with the same plug-in connectors, cut off the connectors from the Traxxas ESC and solder them onto the VESC (order does not, if the car goes in the opposite intended direction and two connectors can be swapped to fix the fix the issue). Remove the receiver box Open the receiver box Unfasten the two screws that hold the receiver box down to remove it. Prepare the VESC If the VESC does not have a male Traxxas connector, solder the one from the Traxxas ESC to it. Connect the servo motor to the servo cable on the VESC. Add a piece of electric tape to ensure that the cables will not come loose (optional). If the VESC servo cable is also a female (smaller) plug (same as steering servo cable), either buy a cable that will handle the conversion or assemble your own male-to-male 3-pin converter. To do the latter, you may cut off two female ends from servo cable and solder them together or solder two 3-pin male headers together. Connect the three DC motor cables to the VESC. The order does not matter. When testing the car, if the car moves in the opposite direction you can swap any two connections to fix the driving direction. Install 2x M3x10mm standoffs on the rear suspension mount's inner holes (where the rear shell mount was located). Install 2x M3x20mm standoffs on the front suspension mount's inner holes (where the front shell mount was located). Once complete, the chassis should look similar to that in the figure below . Adding Encoders (Optional) To get estimates of instantaneous velocity, the car supports adding rear wheel encoders to measure the number of wheel rotations. To install the encoders follow these steps. Check that the encoder hole and the encoder mount hole align. Sometimes 3D printing results in residue inside the mount making it difficult to mount parts. Carefully remove any residue. For each encoder disc, color the recessed portions of the disc with a contrasting color to obtain an alternating pattern. Remove the rear wheels using the Traxxas supplied lug ranch. Install the encoder disks onto the inside of the wheels. Use a hot glue gun on the wheel strokes secure the disks in place. The wheels with encoders should look like that in the figure below . Install an encoder mount on rear hub carriers (blue). Place the mount as close to the base of the carrier as possible such that the mount's opening is on the top. Use a hot glue gun to secure the mount in place at a vertical position Take two servo cables, cut off the male (larger) end to obtain male-to-exposed wire servo connectors. Solder the exposed wires to the encoders per the following Black/ Brown servo wire to encoder VCC pin Red servo wire to encoder OUT pin White/ Orange servo wire to encoder GND pin Place each encoder into its mount and secure it using a M3x6mm plastic screw and its corresponding plastic M3 nut. Run the servo cable to the center of the car. The mounted encoders should look like that in the figure below . Place back the rear wheels and tighten the nut. Replace the Chassis Springs Replace the springs with stiffer springs by following these steps. Note that the shorter springs go on the front shocks while the longer ones go on the rear shocks. - Unscrew the bottom bolt holding the shocks in place. - Rotate the shocks up. - Compress the spring on each shock and pull the spring holder down and out. - Remove the old springs and insert the new ones. - Compress the spring on each shock and insert the spring holder back then push it back up into place. - Rotate the shocks back to their original position and fix them by returning the bolt from the first step. Make sure that the springs sit onto the spring holder. For more details check out this video . Prepare the Teensy/ Teensy PCB Solder 2x 24-pin male headers onto the Teensy 3.5. If you manufactured the Teensy PCB follow these steps: Solder 2x 24-pin female headers onto the PCB. At BL_ENC and BR_ENC solder 2x 3-pin male headers. At US1, ..., US8 solder 8x 4-pin male headers. If you are using a protoboard to make the Teensy circuit, follow the circuit diagram in the figure below to make the above ports and connections. You may also choose to cut off one side of the 4-pin connectors and solder the wires directly to Teensy header pins as in this figure . Prepare the Decks and Assemble the Car Preparing the decks will involve working on both sides of the boards. As such we recommend having a box (with one side fully open) at hand to provide support and elevation for the decks will undergoing assembly Follow these steps: Deck 1: Mount the ultrasonics onto the ultrasonic mounts and secure the mounts onto the top side of deck 1. It is easier to install the mounts on the deck first then install the ultrasonics into their mounts. Use 2x M2x10mm bolts and 2x M2 nuts to secure each mount onto the decks. Use diagonal holes. Use 2x M0x1/4\" bolts and 2x M0 nuts to mount each ultrasonic sensor. Use diagonal holes. If the holes are slightly off or if they are filled due to 3D printing resolution, use a drill with a 0.063\" drill bit to drill out new holes. Mount the Teensy PCB (or protoboard) onto the bottom of deck 1. Use 2x M3x6mm plastic screws to secure 2x M3x10mm plastic spacers onto the bottom of the PCB (this will elevate the PCB). Use 2x M3x10mm plastic screws to secure the PCB onto the deck. The screws should go in from the top side and secure the PCB onto the bottom. Add the Teensy to the PCB. Connect the ultrasonics to the PCB. Follow this order when connecting the ultrasonics: start on the front and number the ultrasonics (1 -- 4) clockwise, then move to the back side and number the ultrasonics (5 -- 8) clockwise. Connect four pin connectors to each ultrasonic sensor, pass it to the bottom of the deck and connect it onto the PCB to the proper pins (ultrasonic and PCB labels should match). The wire connected to the VCC pin on the ultrasonic sensor should connect to the pin closest to the port name on the PCB (VCC pin on the board). Pass the rear wires through the slot near them. Use a zip tie to secure the wires to the bottom of the deck (using the rear-most parallel slits). Pass the two middle wires through the slot near them. Pass the side wires down at the sides of the deck. Use a zip tie to secure the wires to the bottom of the deck (using the front-most parallel slits). Add the IMU to the top side of deck 1. Considering the top side of the IMU to be the side with the USB port, pass the screw end of the vibration damper through the IMU's bottom side and secure them with M3 nuts on the top side. Use 4x M3x8mm metal screws, pass them from the bottom of the deck, and secure the IMU onto deck 1 such that the USB port point to the left side of the car. Add the SSD to the top side of deck 1. Use 4x M3x12mm screws, pass them from the bottom of the deck, and add a nut on the top side but keep it loose. Do not tighten the nut yet. Position the SSD on top of the nuts then tighten the screws to secure the SSD onto the deck. Note that the nut will provide the necessary elevation for the SSD to account for the zip-tie. Install the LIDAR deck (deck 3) mounts. Insert 4x M3x10mm bolts from the bottom of deck 1 and secure them with 4x M3x10mm standoffs. The standoffs should have the screw portion to the top. Install the Jetson mounts. Insert 4x M3x20mm bolts through the bottom of deck 1 and secure each with a M3x10mm spacer. The protruding portion of the bolt will be used to secure the Jetson. Install the deck 2 mounts. Using 5x M3x12mm screws through the bottom of deck 1, secure 5x M3x100mm standoffs. At this point, deck 1 should looks like these top , bottom , and side images. Install the Jetson TX2 board onto deck 1. Using the protruding Jetson TX2 mounting bolts, place the Jetson (WiFi to the right side of the car) onto deck 1 and secure it with 4x M3 nuts. Attached a SATA with power extension cable from the SSD to the Jetson's SATA port. Install the Jetson's WiFi antennas. Mount deck 1 onto the chassis. Using 4x M3x12mm bolts mount deck 1 onto the chassis through the standoffs installed onto the front and rear chassis mounting decks. The car should look like that in the figure below Install the barrel plug splitter onto the bottom of deck 1. Zip tie the splitter using the slits under the Jetson. Have the three male connectors on the right side and bias the splitter to the right. Pass the female barrel plug through the large bottom slit (with the ultrasonics) and zip tie it on the left side on the deck. The three male connectors would connect as follows: one to the Jetson, one to the Lidar female barrel plug, and one would reach the second deck and connect to the battery. Deck 3: Add a bit (pea sized blob) of thermal paste onto the bottom of the Hokuyo Lidar (optional). Secure the Lidar onto the deck using 2x M3x8mm bolts (M3x6mm bolts work as well). Mount deck 3 onto deck 1 through the deck 3 standoffs. Secure the deck using 4x M3 nuts. Connect ethernet cable to the Jetson. Pass the power cable to the rear end of the car. Use zip-ties and slits to secure the cable appropriately. Once deck 3 is connected, the car should look like that in this figure . Deck 2: Mount the ELP cameras' pole mounts (optional). Unplug the USB cable for ease of installation. Mount the pole mount base onto the top side of deck 2. Use 2x M2.5x10mm screws and corresponding nuts to secure each base. gohere Place the ELP cameras onto the pole mount holder. Use 2x M2.5x8mm screws to secure each cameras. Place the cameras with upside-down and have the closed portion of the ELP mounting decks point down (so that it carries the ELP camera). Mount the holder onto the base mounts using a M2.5x10mm bolt and the corresponding nut. Mount the ZED camera. Use a 1/4\" bolt to fasten a camera head (any generic 1/4\" camera mounting head/ tripod head works) onto the top of deck 2. Use any of the 1/4\" holes (larger holes). Using two equally sized pieces of Velcro tape, secure the USB hub onto the bottom side of deck 2. Place it close to the rear end of the deck. Using two equally sized pieces of Velcro tape, secure the battery onto the top rear end of deck 2. Using two equally sized pieces of Velcro tape, secure the front (and perhaps side) cameras at the desired position on Deck 2 (optional). Add the PCIe card (optional): Pass 2x 12mm M3 screws through the PCIe card holes from the top side of deck 2. Secure the screws using 2x M3 nuts on the bottom of the deck. Remove the PCIe card's mounting bracket (the only two screws on the card). Cut two small pieces of Velcro (2cm x 0.5cm), lock them together, and tape one on the back of the PCIe card at the end furthest from the USB ports. Remove the protective film on the other piece of Velcro, pass the PCIe card through the 12mm screws, and secure the card onto the deck (all electronics should be visible on the bottom of the deck and the card's port should be pointing to the rear side of the deck). Connect the PCIe extension cable to the card. Secure the PCIe card using 2x M3 nuts. Mount deck 2 onto deck 1. Using 5x M3x12mm metal screws secure deck 2 onto its mounting standoffs on deck 1. Connect the PCIe extension cable to the PCIe X4 port on the Jetson board. Connect the USB cables as follows: Connect the VESC, IMU, Teensy, and rear ELP camera USB cables to the USB hub. Order does not matter. Connect the ZED camera and front, right, and left ELP camera USB cables to the PCIe card's USB ports in the following order: ZED camera: port 1 (closest to the front of the car) Front ELP camera: port 2 Right ELP camera: port 3 Left ELP camera: port 4 (furthest back) Connect the USB hub's USB cable to the Jetson board's USB 3 port. Use zip-ties and slits to manage the cables, connectors, and wires This concludes the car assembly. It should look like the car in the top and side view images. Final image of car Potential changes: While this is a list of sensors we used on Super COMO, additional sensors can be added by placing them on any of the decks. Additionally, the following can be done: - Removing the Lidar and reusing Deck 3 (e.g.: a new deck can be designed to fit in deck 3's place to house any other sensors) - Adding a video camera or DSLR. When the ZED camera is not in use, it may be removed in favor of a video camera or DSLR dedicated to recording video or taking pictures as long as that camera has a 1/4\" mounting hole. - Replacing the ZED camera with any other camera with 1/4\" mounting hole. - Adding more decks: with some modifications, a fourth deck may be added on top of deck 2 by replacing four or five of the screws that secure deck 2 onto deck 1 by standoffs. The new deck may house more sensors. Note that weight will become a more critical issue. Please reference the Super COMO Github to find the CAD files","title":"Car Assembly"},{"location":"assembly/#assembly-guide","text":"","title":"Assembly Guide"},{"location":"assembly/#parts-list","text":"Below is a list of parts required for this build: Chassis and accessories: 1x Traxxas Slash 4x4 Platinum (other cars with similar size might work) 1x RACECAR/J Spring upgrade set 1x Tall battery hold-down and retainer set Decks, mounts, and 3D Printed Parts: 1x Hammerhead decks set 1x Deck 1 / Bottom deck 1x Deck 2 / Top deck 1x Deck 3 / LIDAR deck 1x Teensy PCB / Protoboard 2x Encoder disks (black or white) (optional) 2x Encoder mounts (optional) 8x Ultrasonic mounts 1x 1/4\" Camera head e.g.: Z-type mount, ball head, ...etc. 4x ELP camera mounts (optional): seat mount : for front ELP camera pole mount : consists of the base and holder. Use for rear ELP camera side cameras: either pole or seat mounts (we will assume pole mounts, but either will work) Sensors: 1x Hokuyo UST-10LX laser range finder 1x Stereolabs ZED camera 4x ELP 1080p camera (optional) 2x Sparkfun Digital breakout light encoder (optional) 8x HC-SR04 ultrasonic sensor 1x Razor 9DoF IMU Computers and Microcontrollers 1x Teensy 3.5 (3.6 will not work) 1x Jetson TX2 with the TX2 development board 1x VESC 11.0 electronic speed controller Other Electronics 1x 7-Port USB hub (powered) 1x Samsung 500GB 860 EVO SATA III 2.5\" SSD 1x Startech 4 port PCI Express USB 3.0 card (independent 5Gbps channels) (optional) Power Sources 1x Traxxas 8,400mAh 11.1V 3-Cell LiPo battery 1x XTPower XT-20000QC2 powerbank Bolts, Nuts, Spacers, and Standoffs (material is metal when not noted) Bolts 1x 0.25\"-20x0.5\" bolt 16x M0x0.25\u201d bolts 16x M2x10mm bolts 6x M2.5x8mm bolts 9x M2.5x10mm bolts 4x M3x6mm plastic bolts 6x M3x8mm bolts 6x M3x10mm bolts 20x M3x12mm bolts 4x M3x20mm bolts Nuts 16x M0 nuts 16x M2 nuts 6x M2.5 nuts 20x M3 nuts 2x M3 plastic nut Spacers 2x M3x10mm plastic spacers 2x M3x10mm spacers Standoffs 6x M3x10mm standoffs 2x M3x20mm standoffs 5x M3x100mm standoffs 4x Vibration damper standoffs Header Pins and Cables 2x 24-pin male headers 2x 24-pin female headers 8x 4-pin male headers 2x 3-pin male headers 8x 12\" 4-wire female-to-female connectors 2x 300mm 3-wire male-to-female servo connectors 1x SATA with power extension cable 1x PCIe X4 extension cord (optional) Barrel plugs: 1x 1-Female-3-Male barrel plug splitter (2.5mm ID, 5.5mm OD) 1x Female barrel plug to exposed wire (2.5mm ID, 5.5mm OD) 1x Male barrel plug to exposed wire (2.5mm ID, 5.5mm OD) 2x 12\" USB cable: Male A to Male micro B Misc Liquid white-out or black permanent marker (opposite color to encoder disks) Velcro/ 3M Dual Lock (either preferred) or double sided tape Heat shrink heat gun Thermal paste (optional) Hot glue hot glue gun (optional) Solder and soldering iron Digital Multimeter (optional but recommended for continuity testing) Tools: Traxxas tools (Allen and lug wrenches) PH00, PH0, and PH1 screw drivers 1x Controller e.g.: Logitech Wireless Gamepad F710, Logitech F310 Gamepad (wired, but preferred), XBOX 360 controller You can also find the detailed Bill of Materials on our GitHub page.","title":"Parts List"},{"location":"assembly/#assembly-steps","text":"Follow steps below to assemble the car. While matching the holes on the decks to the proper component is relatively easy considering that most parts only fit in one logical configuration, the mapping between deck holes to the proper components are indicated in the figures below. Keep them in mind while assembling the car. Deck 1 Red rectangles (holes at corners): Ultrasonic sensor mounting hole Green rectangle (holes at corners): SSD mounting holes Purple rectangle (holes at corners and along the edge): Jetson mounting holes Yellow rectangle (holes at corners): IMU mounting holes Red circles: Deck 3 mounting holes Yellow circles: Deck 2 mounting holes Green circles: Deck 1 mounting holes (onto the chassis) Deck 2 Dotted red rectangle: Position of battery pack on top side (mounted with tape/Velcro) Dotted purple rectangle: Position of USB hub on bottom side (mounted with tape/Velcro) Green rectangle: ZED camera mounting holes (choose one) Yellow rectangle (holes at corners): ELP mounts Yellow circles: Deck 2 mounting holes (onto deck 1) Deck 3 Red circles: Deck 3 mounting holes (onto deck 1) Green circles: Hokuyo lidar mounting holes Dotted green circles: RPLidar A2/A3 mounting holes (to, optionally, replace the Hokuyo Lidar) Note: Whenever soldering wires use heat shrink appropriately.","title":"Assembly Steps"},{"location":"assembly/#program-the-vesc","text":"Follow these steps to program the VESC.","title":"Program the VESC"},{"location":"assembly/#prepare-the-lidar-connector","text":"Add a barrel plug to power the Lidar by following these steps: - Cut the blue and brown cables of the power source and I/O cable and strip them. - On the female-to-exposed wire and male-to-exposed wire connectors distinguish between the wires connected to the inner (negative) and outer (positive) leads of the connector and cut them to about 8\" and 12\" in length respectively. - Solder the following wires together: - Brown (positive) Lidar wire to the inner (positive) wires of both cables. - Blue (negative) Lidar wire to the outer (negative) wires of both cables. - Apply heat shrink appropriately.","title":"Prepare the Lidar Connector"},{"location":"assembly/#prepare-the-chassis","text":"Remove the plastic shell by removing the four cotter pins. Remove the front and rear shell mounts by unscrewing the two bolts that mount each to a suspension mount. Replace the hold-down retainers. On the bottom side of the chassis there are four bolts that secure the battery hold-down retainers. Remove the bolts and replace each retainer piece with the equivalent piece from the taller set. Insert the Traxxas battery into its slot and secure with the battery hold-down bar. Remove the ESC by unfastening the screws that hold it down. If your VESC does not come with the same plug-in connectors, cut off the connectors from the Traxxas ESC and solder them onto the VESC (order does not, if the car goes in the opposite intended direction and two connectors can be swapped to fix the fix the issue). Remove the receiver box Open the receiver box Unfasten the two screws that hold the receiver box down to remove it. Prepare the VESC If the VESC does not have a male Traxxas connector, solder the one from the Traxxas ESC to it. Connect the servo motor to the servo cable on the VESC. Add a piece of electric tape to ensure that the cables will not come loose (optional). If the VESC servo cable is also a female (smaller) plug (same as steering servo cable), either buy a cable that will handle the conversion or assemble your own male-to-male 3-pin converter. To do the latter, you may cut off two female ends from servo cable and solder them together or solder two 3-pin male headers together. Connect the three DC motor cables to the VESC. The order does not matter. When testing the car, if the car moves in the opposite direction you can swap any two connections to fix the driving direction. Install 2x M3x10mm standoffs on the rear suspension mount's inner holes (where the rear shell mount was located). Install 2x M3x20mm standoffs on the front suspension mount's inner holes (where the front shell mount was located). Once complete, the chassis should look similar to that in the figure below .","title":"Prepare the Chassis"},{"location":"assembly/#adding-encoders-optional","text":"To get estimates of instantaneous velocity, the car supports adding rear wheel encoders to measure the number of wheel rotations. To install the encoders follow these steps. Check that the encoder hole and the encoder mount hole align. Sometimes 3D printing results in residue inside the mount making it difficult to mount parts. Carefully remove any residue. For each encoder disc, color the recessed portions of the disc with a contrasting color to obtain an alternating pattern. Remove the rear wheels using the Traxxas supplied lug ranch. Install the encoder disks onto the inside of the wheels. Use a hot glue gun on the wheel strokes secure the disks in place. The wheels with encoders should look like that in the figure below . Install an encoder mount on rear hub carriers (blue). Place the mount as close to the base of the carrier as possible such that the mount's opening is on the top. Use a hot glue gun to secure the mount in place at a vertical position Take two servo cables, cut off the male (larger) end to obtain male-to-exposed wire servo connectors. Solder the exposed wires to the encoders per the following Black/ Brown servo wire to encoder VCC pin Red servo wire to encoder OUT pin White/ Orange servo wire to encoder GND pin Place each encoder into its mount and secure it using a M3x6mm plastic screw and its corresponding plastic M3 nut. Run the servo cable to the center of the car. The mounted encoders should look like that in the figure below . Place back the rear wheels and tighten the nut.","title":"Adding Encoders (Optional)"},{"location":"assembly/#replace-the-chassis-springs","text":"Replace the springs with stiffer springs by following these steps. Note that the shorter springs go on the front shocks while the longer ones go on the rear shocks. - Unscrew the bottom bolt holding the shocks in place. - Rotate the shocks up. - Compress the spring on each shock and pull the spring holder down and out. - Remove the old springs and insert the new ones. - Compress the spring on each shock and insert the spring holder back then push it back up into place. - Rotate the shocks back to their original position and fix them by returning the bolt from the first step. Make sure that the springs sit onto the spring holder. For more details check out this video .","title":"Replace the Chassis Springs"},{"location":"assembly/#prepare-the-teensy-teensy-pcb","text":"Solder 2x 24-pin male headers onto the Teensy 3.5. If you manufactured the Teensy PCB follow these steps: Solder 2x 24-pin female headers onto the PCB. At BL_ENC and BR_ENC solder 2x 3-pin male headers. At US1, ..., US8 solder 8x 4-pin male headers. If you are using a protoboard to make the Teensy circuit, follow the circuit diagram in the figure below to make the above ports and connections. You may also choose to cut off one side of the 4-pin connectors and solder the wires directly to Teensy header pins as in this figure .","title":"Prepare the Teensy/ Teensy PCB"},{"location":"assembly/#prepare-the-decks-and-assemble-the-car","text":"Preparing the decks will involve working on both sides of the boards. As such we recommend having a box (with one side fully open) at hand to provide support and elevation for the decks will undergoing assembly Follow these steps: Deck 1: Mount the ultrasonics onto the ultrasonic mounts and secure the mounts onto the top side of deck 1. It is easier to install the mounts on the deck first then install the ultrasonics into their mounts. Use 2x M2x10mm bolts and 2x M2 nuts to secure each mount onto the decks. Use diagonal holes. Use 2x M0x1/4\" bolts and 2x M0 nuts to mount each ultrasonic sensor. Use diagonal holes. If the holes are slightly off or if they are filled due to 3D printing resolution, use a drill with a 0.063\" drill bit to drill out new holes. Mount the Teensy PCB (or protoboard) onto the bottom of deck 1. Use 2x M3x6mm plastic screws to secure 2x M3x10mm plastic spacers onto the bottom of the PCB (this will elevate the PCB). Use 2x M3x10mm plastic screws to secure the PCB onto the deck. The screws should go in from the top side and secure the PCB onto the bottom. Add the Teensy to the PCB. Connect the ultrasonics to the PCB. Follow this order when connecting the ultrasonics: start on the front and number the ultrasonics (1 -- 4) clockwise, then move to the back side and number the ultrasonics (5 -- 8) clockwise. Connect four pin connectors to each ultrasonic sensor, pass it to the bottom of the deck and connect it onto the PCB to the proper pins (ultrasonic and PCB labels should match). The wire connected to the VCC pin on the ultrasonic sensor should connect to the pin closest to the port name on the PCB (VCC pin on the board). Pass the rear wires through the slot near them. Use a zip tie to secure the wires to the bottom of the deck (using the rear-most parallel slits). Pass the two middle wires through the slot near them. Pass the side wires down at the sides of the deck. Use a zip tie to secure the wires to the bottom of the deck (using the front-most parallel slits). Add the IMU to the top side of deck 1. Considering the top side of the IMU to be the side with the USB port, pass the screw end of the vibration damper through the IMU's bottom side and secure them with M3 nuts on the top side. Use 4x M3x8mm metal screws, pass them from the bottom of the deck, and secure the IMU onto deck 1 such that the USB port point to the left side of the car. Add the SSD to the top side of deck 1. Use 4x M3x12mm screws, pass them from the bottom of the deck, and add a nut on the top side but keep it loose. Do not tighten the nut yet. Position the SSD on top of the nuts then tighten the screws to secure the SSD onto the deck. Note that the nut will provide the necessary elevation for the SSD to account for the zip-tie. Install the LIDAR deck (deck 3) mounts. Insert 4x M3x10mm bolts from the bottom of deck 1 and secure them with 4x M3x10mm standoffs. The standoffs should have the screw portion to the top. Install the Jetson mounts. Insert 4x M3x20mm bolts through the bottom of deck 1 and secure each with a M3x10mm spacer. The protruding portion of the bolt will be used to secure the Jetson. Install the deck 2 mounts. Using 5x M3x12mm screws through the bottom of deck 1, secure 5x M3x100mm standoffs. At this point, deck 1 should looks like these top , bottom , and side images. Install the Jetson TX2 board onto deck 1. Using the protruding Jetson TX2 mounting bolts, place the Jetson (WiFi to the right side of the car) onto deck 1 and secure it with 4x M3 nuts. Attached a SATA with power extension cable from the SSD to the Jetson's SATA port. Install the Jetson's WiFi antennas. Mount deck 1 onto the chassis. Using 4x M3x12mm bolts mount deck 1 onto the chassis through the standoffs installed onto the front and rear chassis mounting decks. The car should look like that in the figure below Install the barrel plug splitter onto the bottom of deck 1. Zip tie the splitter using the slits under the Jetson. Have the three male connectors on the right side and bias the splitter to the right. Pass the female barrel plug through the large bottom slit (with the ultrasonics) and zip tie it on the left side on the deck. The three male connectors would connect as follows: one to the Jetson, one to the Lidar female barrel plug, and one would reach the second deck and connect to the battery. Deck 3: Add a bit (pea sized blob) of thermal paste onto the bottom of the Hokuyo Lidar (optional). Secure the Lidar onto the deck using 2x M3x8mm bolts (M3x6mm bolts work as well). Mount deck 3 onto deck 1 through the deck 3 standoffs. Secure the deck using 4x M3 nuts. Connect ethernet cable to the Jetson. Pass the power cable to the rear end of the car. Use zip-ties and slits to secure the cable appropriately. Once deck 3 is connected, the car should look like that in this figure . Deck 2: Mount the ELP cameras' pole mounts (optional). Unplug the USB cable for ease of installation. Mount the pole mount base onto the top side of deck 2. Use 2x M2.5x10mm screws and corresponding nuts to secure each base. gohere Place the ELP cameras onto the pole mount holder. Use 2x M2.5x8mm screws to secure each cameras. Place the cameras with upside-down and have the closed portion of the ELP mounting decks point down (so that it carries the ELP camera). Mount the holder onto the base mounts using a M2.5x10mm bolt and the corresponding nut. Mount the ZED camera. Use a 1/4\" bolt to fasten a camera head (any generic 1/4\" camera mounting head/ tripod head works) onto the top of deck 2. Use any of the 1/4\" holes (larger holes). Using two equally sized pieces of Velcro tape, secure the USB hub onto the bottom side of deck 2. Place it close to the rear end of the deck. Using two equally sized pieces of Velcro tape, secure the battery onto the top rear end of deck 2. Using two equally sized pieces of Velcro tape, secure the front (and perhaps side) cameras at the desired position on Deck 2 (optional). Add the PCIe card (optional): Pass 2x 12mm M3 screws through the PCIe card holes from the top side of deck 2. Secure the screws using 2x M3 nuts on the bottom of the deck. Remove the PCIe card's mounting bracket (the only two screws on the card). Cut two small pieces of Velcro (2cm x 0.5cm), lock them together, and tape one on the back of the PCIe card at the end furthest from the USB ports. Remove the protective film on the other piece of Velcro, pass the PCIe card through the 12mm screws, and secure the card onto the deck (all electronics should be visible on the bottom of the deck and the card's port should be pointing to the rear side of the deck). Connect the PCIe extension cable to the card. Secure the PCIe card using 2x M3 nuts. Mount deck 2 onto deck 1. Using 5x M3x12mm metal screws secure deck 2 onto its mounting standoffs on deck 1. Connect the PCIe extension cable to the PCIe X4 port on the Jetson board. Connect the USB cables as follows: Connect the VESC, IMU, Teensy, and rear ELP camera USB cables to the USB hub. Order does not matter. Connect the ZED camera and front, right, and left ELP camera USB cables to the PCIe card's USB ports in the following order: ZED camera: port 1 (closest to the front of the car) Front ELP camera: port 2 Right ELP camera: port 3 Left ELP camera: port 4 (furthest back) Connect the USB hub's USB cable to the Jetson board's USB 3 port. Use zip-ties and slits to manage the cables, connectors, and wires This concludes the car assembly. It should look like the car in the top and side view images. Final image of car","title":"Prepare the Decks and Assemble the Car"},{"location":"assembly/#potential-changes","text":"While this is a list of sensors we used on Super COMO, additional sensors can be added by placing them on any of the decks. Additionally, the following can be done: - Removing the Lidar and reusing Deck 3 (e.g.: a new deck can be designed to fit in deck 3's place to house any other sensors) - Adding a video camera or DSLR. When the ZED camera is not in use, it may be removed in favor of a video camera or DSLR dedicated to recording video or taking pictures as long as that camera has a 1/4\" mounting hole. - Replacing the ZED camera with any other camera with 1/4\" mounting hole. - Adding more decks: with some modifications, a fourth deck may be added on top of deck 2 by replacing four or five of the screws that secure deck 2 onto deck 1 by standoffs. The new deck may house more sensors. Note that weight will become a more critical issue.","title":"Potential changes:"},{"location":"assembly/#please-reference-the-super-como-github-to-find-the-cad-files","text":"","title":"Please reference the Super COMO Github to find the CAD files"},{"location":"autonomousfeature/","text":"Line Follower Hallway navigation with Stop sign","title":"Autonomous Features"},{"location":"softsetup/","text":"Installation Guide Before installing the Super COMO packages, perform a full JetPack installation on the Jetson TX2. For the package, JetPack 3.2.1 was installed. After installing JetPack, follow the steps below to setup Super COMO. Configure repositories: Configure repositories to allow \"restricted,\" \"universe,\" and \"multiverse.\" Do this by following the instructions in this link . Clone super_como : Clone the repository to your home directory. In a terminal window run: cd ~ git clone https://github.com/The-SS/super_como Navigate to setup folder: In terminal, navigate to the setup folder in super_como by running: cd ~/super_como/setup Configure git (if not configured): Configure git either manually or by running git_config_setup.sh . You can run the setup file as follows: ./git_config_setup.sh Run the following scripts: ./install_programs.sh ./install_ros.sh Download and install the ZED SDK: Go to the ZED downloads website and download the ZED SDK for Jetson TX2 with JetPack 3.2 and CUDA 9 . Once it downloads, either used chmod +x file_name to make the file and executable or right click it -- permissions -- allow executing file as a program. Run the script by cd to file location in a terminal and typing ./ followed by the file name. Setup the device rules: Run the rules set up script: sudo ./rules_setup.sh This script will reload the rules, but we recommend restarting the machine to ensure that the rules are in effect. Run the build script: The build.sh script at the root of the super_como package builds the catkin workspace. In a terminal window, navigate to the root of the super_como package then run the following command: cd ~/super_como ./build.sh Generate the ros_lib libraries for arduino: Go the the Arduino libraries direcotry: cd ~/arduino-1.8.7/libraries Remove any previous ros_lib directory: rm -fr ros_lib Generate the new libraries: rosrun rosserial_arduino make_libraries.py . For more details see the Install ros_lib into the Arduino Environment section here . Source the workspace: Every time a new terminal window is open you have to source your workspace. source ~/super_como/workspace/devel/setup.bash Alternatively, you can add this to the bashrc file to avoid having to do that every time. echo source ~/super_como/workspace/devel/setup.bash ~/.bashrc Once this is performed you have to restart your terminal or source the bashrc file as follows: source ~/.bashrc Add the Lidar to ethernet networks: Open Network Connections . Click on Add . In the new window do the following: Change the connection name to lidar In the General tab, check the Automatically connect to this network when it is available and All users may connect to this network options In the IPv4 Settings tab, change the method to Manual and add the following in Addresses : address: 192.168.0.15 netmask: 255.255.255.0 (this will change to 24) leave the gateway field empty Click save. Edit the USB port names: The rules file generated by rules_setup.sh creates symbolic links for devices that should be used instead of the port names generated by Linux. The full list of symbolic links found in /etc/udev/rules/99-device-rules.rules is: /dev/imu : IMU /dev/vesc : VESC /dev/teensy : Teensy /dev/elp/back : back elp camera /dev/elp/right : righ elp camera /dev/elp/left : left elp camera /dev/elp/front : front elp camera These links should be used in the package (instead of /dev/ttyUSB* , /dev/ttyACM* , or /dev/video* ). Make the following modifications to the package: - In ~/super_como/super_como/workspace/src/racecar/racecar/config/racecar-v2/vesc.yaml change the port parameter under vesc_driver to /dev/vesc . - In ~/super_como/workspace/src/razor_imu_9dof/config/razor.yaml change the port parameter to /dev/imu . - In ~/super_como/workspace/src/razor_imu_9dof/nodes/imu_node.py change the default_port variable to '/dev/imu' (line 110). The updated line should be: default_port='/dev/imu' . If running YOLO, change the darknet_ros camera topic: In ~/super_como/workspace/src/darknet_ros/darknet_ros/config/ros.yaml change the topic parameter under camera_reading in subscribers to the desired image topic. For example that could be the /zed/left/image_raw_color topic if using the ZED or ZED mini cameras. Check the YOLO github repository for more details. Optional: Setting up team viewer Setting up optional Bluetooth Xbox one controller script bldc tool download, install, and programming vesc Please reference the Super COMO Github to clone the software package","title":"Car Software Setup"},{"location":"softsetup/#installation-guide","text":"Before installing the Super COMO packages, perform a full JetPack installation on the Jetson TX2. For the package, JetPack 3.2.1 was installed. After installing JetPack, follow the steps below to setup Super COMO. Configure repositories: Configure repositories to allow \"restricted,\" \"universe,\" and \"multiverse.\" Do this by following the instructions in this link . Clone super_como : Clone the repository to your home directory. In a terminal window run: cd ~ git clone https://github.com/The-SS/super_como Navigate to setup folder: In terminal, navigate to the setup folder in super_como by running: cd ~/super_como/setup Configure git (if not configured): Configure git either manually or by running git_config_setup.sh . You can run the setup file as follows: ./git_config_setup.sh Run the following scripts: ./install_programs.sh ./install_ros.sh Download and install the ZED SDK: Go to the ZED downloads website and download the ZED SDK for Jetson TX2 with JetPack 3.2 and CUDA 9 . Once it downloads, either used chmod +x file_name to make the file and executable or right click it -- permissions -- allow executing file as a program. Run the script by cd to file location in a terminal and typing ./ followed by the file name. Setup the device rules: Run the rules set up script: sudo ./rules_setup.sh This script will reload the rules, but we recommend restarting the machine to ensure that the rules are in effect. Run the build script: The build.sh script at the root of the super_como package builds the catkin workspace. In a terminal window, navigate to the root of the super_como package then run the following command: cd ~/super_como ./build.sh Generate the ros_lib libraries for arduino: Go the the Arduino libraries direcotry: cd ~/arduino-1.8.7/libraries Remove any previous ros_lib directory: rm -fr ros_lib Generate the new libraries: rosrun rosserial_arduino make_libraries.py . For more details see the Install ros_lib into the Arduino Environment section here . Source the workspace: Every time a new terminal window is open you have to source your workspace. source ~/super_como/workspace/devel/setup.bash Alternatively, you can add this to the bashrc file to avoid having to do that every time. echo source ~/super_como/workspace/devel/setup.bash ~/.bashrc Once this is performed you have to restart your terminal or source the bashrc file as follows: source ~/.bashrc Add the Lidar to ethernet networks: Open Network Connections . Click on Add . In the new window do the following: Change the connection name to lidar In the General tab, check the Automatically connect to this network when it is available and All users may connect to this network options In the IPv4 Settings tab, change the method to Manual and add the following in Addresses : address: 192.168.0.15 netmask: 255.255.255.0 (this will change to 24) leave the gateway field empty Click save. Edit the USB port names: The rules file generated by rules_setup.sh creates symbolic links for devices that should be used instead of the port names generated by Linux. The full list of symbolic links found in /etc/udev/rules/99-device-rules.rules is: /dev/imu : IMU /dev/vesc : VESC /dev/teensy : Teensy /dev/elp/back : back elp camera /dev/elp/right : righ elp camera /dev/elp/left : left elp camera /dev/elp/front : front elp camera These links should be used in the package (instead of /dev/ttyUSB* , /dev/ttyACM* , or /dev/video* ). Make the following modifications to the package: - In ~/super_como/super_como/workspace/src/racecar/racecar/config/racecar-v2/vesc.yaml change the port parameter under vesc_driver to /dev/vesc . - In ~/super_como/workspace/src/razor_imu_9dof/config/razor.yaml change the port parameter to /dev/imu . - In ~/super_como/workspace/src/razor_imu_9dof/nodes/imu_node.py change the default_port variable to '/dev/imu' (line 110). The updated line should be: default_port='/dev/imu' . If running YOLO, change the darknet_ros camera topic: In ~/super_como/workspace/src/darknet_ros/darknet_ros/config/ros.yaml change the topic parameter under camera_reading in subscribers to the desired image topic. For example that could be the /zed/left/image_raw_color topic if using the ZED or ZED mini cameras. Check the YOLO github repository for more details.","title":"Installation Guide"},{"location":"softsetup/#optional","text":"Setting up team viewer Setting up optional Bluetooth Xbox one controller script bldc tool download, install, and programming vesc","title":"Optional:"},{"location":"softsetup/#please-reference-the-super-como-github-to-clone-the-software-package","text":"","title":"Please reference the Super COMO Github to clone the software package"},{"location":"vescprep/","text":"Preparing the VESC If you need to flash the VESC with the bootloader: Purchase a ST-Link like this one: ST-Link Purchase some jumper wires with female ends to connect to the ST-Link. Green JST wire to 3.3v, Orange to SWCLK, Yellow to GND, White to SWDIO, and Red to RST. (Using the included VESC Programming connector) After this, you need to download the tool to program the VESC ST-Link tool Once you have installed the ST-Link utility, run it and it should show a load of addresses. next you need the bootloader it is labeled \u201cBLDC_4_Bootloader\u201d and can be found here Firmware and bootloader download Use the .hex file, open it then click verify, then program and wait, it may take a while to install. Once it is done, close the program and unplug the VESC. For more information, please reference: https://www.electric-skateboard.builders/t/vesc-boot-loader-installation-tutorial/32103 https://www.electric-skateboard.builders/t/new-vesc-user-read-this-complete-walktrough-of-the-vesc/2980","title":"VESC Preparation"},{"location":"vescprep/#preparing-the-vesc","text":"","title":"Preparing the VESC"},{"location":"vescprep/#if-you-need-to-flash-the-vesc-with-the-bootloader","text":"","title":"If you need to flash the VESC with the bootloader:"},{"location":"vescprep/#purchase-a-st-link-like-this-one-st-link","text":"","title":"Purchase a ST-Link like this one: ST-Link"},{"location":"vescprep/#purchase-some-jumper-wires-with-female-ends-to-connect-to-the-st-link","text":"Green JST wire to 3.3v, Orange to SWCLK, Yellow to GND, White to SWDIO, and Red to RST. (Using the included VESC Programming connector)","title":"Purchase some jumper wires with female ends to connect to the ST-Link."},{"location":"vescprep/#after-this-you-need-to-download-the-tool-to-program-the-vesc","text":"ST-Link tool Once you have installed the ST-Link utility, run it and it should show a load of addresses. next you need the bootloader it is labeled \u201cBLDC_4_Bootloader\u201d and can be found here Firmware and bootloader download Use the .hex file, open it then click verify, then program and wait, it may take a while to install.","title":"After this, you need to download the tool to program the VESC"},{"location":"vescprep/#once-it-is-done-close-the-program-and-unplug-the-vesc","text":"For more information, please reference: https://www.electric-skateboard.builders/t/vesc-boot-loader-installation-tutorial/32103 https://www.electric-skateboard.builders/t/new-vesc-user-read-this-complete-walktrough-of-the-vesc/2980","title":"Once it is done, close the program and unplug the VESC."},{"location":"xboxonesetup/","text":"Xbox One Controller setup as another option to contol the car install sysfsutils - sudo apt install sysfsutils open the configuration file with gksu gedit /etc/sysfs.conf Add this line in sysfs.conf \u2013 module/bluetooth/parameters/disable_ertm = 1 Save and restart. go into /sys/module/bluetooth/parameters/ sudo nano disable_ertm and change it from N to Y","title":"Xbox One Controller Setup"}]}